<?xml version="1.0" encoding="UTF-8"?>
<TEI xml:space="preserve" xmlns="http://www.tei-c.org/ns/1.0" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
xsi:schemaLocation="http://www.tei-c.org/ns/1.0 /home/pisenberg/grobid/grobid-0.6.1/grobid-home/schemas/xsd/Grobid.xsd"
 xmlns:xlink="http://www.w3.org/1999/xlink">
	<teiHeader xml:lang="en">
		<fileDesc>
			<titleStmt>
				<title level="a" type="main">Procedural Annotation of Uncertain Information</title>
			</titleStmt>
			<publicationStmt>
				<publisher/>
				<availability status="unknown"><licence/></availability>
			</publicationStmt>
			<sourceDesc>
				<biblStruct>
					<analytic>
						<author>
							<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">Andrej</forename><surname>Cedilnik</surname></persName>
							<affiliation key="aff0">
								<orgName type="institution">University of Maryland Baltimore County</orgName>
							</affiliation>
						</author>
						<author>
							<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">Penny</forename><surname>Rheingans</surname></persName>
							<affiliation key="aff0">
								<orgName type="institution">University of Maryland Baltimore County</orgName>
							</affiliation>
						</author>
						<title level="a" type="main">Procedural Annotation of Uncertain Information</title>
					</analytic>
					<monogr>
						<imprint>
							<date/>
						</imprint>
					</monogr>
				</biblStruct>
			</sourceDesc>
		</fileDesc>
		<encodingDesc>
			<appInfo>
				<application version="0.6.1" ident="GROBID" when="2021-02-19T20:41+0000">
					<desc>GROBID - A machine learning software for extracting information from scholarly documents</desc>
					<ref target="https://github.com/kermitt2/grobid"/>
				</application>
			</appInfo>
		</encodingDesc>
		<profileDesc>
			<textClass>
				<keywords>
					<term>Procedural generation</term>
					<term>Uncertainty visualization</term>
					<term>Annotation</term>
					<term>Glyphs</term>
				</keywords>
			</textClass>
			<abstract>
				<p>In many applications of scientific visualization, a large quantity of data is being processed and displayed in order to enable a viewer to make informed and effective decisions. Since little data is perfect, there is almost always some degree of associated uncertainty. This uncertainty is an important part of the data and should be taken into consideration when interpreting the data. Uncertainty, however, should not overshadow the data values. Many methods that address the problem of visualizing data with uncertainty can distort the data and emphasize areas with uncertain values. We have developed a method for showing the uncertainty information together with data with minimal distraction. This method uses procedurally generated annotations which are deformed according to the uncertainty information. As another possible technique we propose distorting glyphs according to the uncertainty information.</p>
			</abstract>
		</profileDesc>
	</teiHeader>
	<text xml:lang="en">
		<body>
<div xmlns="http://www.tei-c.org/ns/1.0"><head n="1">Introduction</head><p>Scientific visualization often displays incomprehensible amounts of scientific data, helping a viewer to make sense out of it and make accurate interpretations. There are many areas of scientific visualization where data has another component, uncertainty, associated with it. The uncertainty is an essential part of the data. In order for a decision-maker to draw accurate conclusions, the uncertainty has to be taken into account.</p><p>Most uncertainty is the result of data coming from some sort of measurement, which are subject to measurement error and failure. This uncertainty can be the result of such factors as incomplete measurements, statistical variation, error, and the disagreement between repetitions of an experiment or information gathering procedure <ref type="bibr" target="#b5">[6,</ref><ref type="bibr" target="#b10">11]</ref>. Additionally simulations can sometimes produce confidence intervals as an integral part of the computational model. This list, however, is far from complete. In order for a decision-maker using visualization tools to make the best possible interpretations, this uncertainty should be presented as a integral part of visualization. Possible applications are in the areas of GIS, medicine, investment planning, scientific research, weather predictions, etc.</p><p>Consider a situation where a decision is being made about investment in some market area. First, data is gathered about the area. The initial survey results in two spots that have a likelihood of payoff. Furthermore, suppose that one of those areas has also high certainty, while the other has high uncertainty associated with it. This might be the result of insufficient samples being taken. The potential investor is able to spot this and suggest that more data be gathered from the area with high uncertainty.</p><p>The most obvious way of treating uncertainty is to display it as another parameter using existing visualization techniques. This can be achieved by many different methods, such as glyph shape, transparency, fuzziness <ref type="bibr" target="#b11">[12]</ref>.</p><p>Ideally uncertainty information should not conceal or obscure the underlying data. It should be presented in a way that makes it available to decision-maker, but does not distract him. One way to minimize data-hiding is to merge uncertainty information into something that already exists in the visualization.</p><p>Annotations should be present in almost any data visualization, helping the viewer to mentally organize the data. Annotations can represent anything from longitude and latitude, height, to a simple divider between grid cells. Since these annotations are already in the visualization, it is relatively easy to use them for visualizing the uncertainty of the data. Most annotations are regular enough that they can be distorted without compromising their original purpose.</p><p>In this paper we describe a method for using procedurally generated annotations to show uncertainty information. We also propose several techniques for procedurally generating these annotation marks so that underlying data stays clearly visible. These methods cause negligible data hiding beyond that already present from the annotation marks.</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head n="2">Related Work</head><p>The simplest possible way of treating missing or inaccurate data is to use some neutral but noticeable supplement. An example of this is the restoration of paintings. Twiddy et al. proposed a way of handling missing data by using pseudocoloring with shades of gray <ref type="bibr" target="#b8">[9]</ref>. This way the display is accurate at places where data exists, while allowing the viewer to determine the areas where data is missing. Equaly important is the feature that restored regions are not distracting.</p><p>Another approach is to interpolate across areas with missing values. This can result in features and characteristics of data that are not actually there and can lead to false conclusions. Wittenbrink proposed IFS fractal interpolation to address this problem by using fractal interpolation instead of linear interpolation <ref type="bibr" target="#b9">[10]</ref>. The fractal interpolation preserves the characteristics of data, as well as preventing misinterpretations because of over smoothing.</p><p>However, the decision-maker still needs some information about uncertainty, in order to completely understand the data. The idea of uncertainty is widely used in the field of Geographic Information Systems (GIS). Davis shows several ways of modeling and visualizing spatial uncertainties including dynamic visualization, where different shades or different levels of hue represent different levels of uncertainty <ref type="bibr" target="#b0">[1]</ref>.</p><p>Wittenbrink et al. proposed a method of using uncertainty glyphs that are scaled to magnitude <ref type="bibr" target="#b11">[12]</ref>. This method shows the uncertainty in the exact manner in which the decisionmaker wants to see it, combined with the data. Other methods described by <ref type="bibr">Pang et al. and Wittenbrink et al.</ref> are to add some geometry or to animate the geometry <ref type="bibr" target="#b5">[6,</ref><ref type="bibr" target="#b10">11]</ref>. The viewer can use this type of method for visualizing the uncertainty and data is preserved. However, the areas with high uncertainty can be represented with bigger glyphs which will emphasize them. This will result in unnecessary attention to areas with low certainty.</p><p>One similar technique used by MacEachren is to have several glyphs <ref type="bibr" target="#b4">[5]</ref>, ranging from clear glyphs to unclear. In visualization the areas with high certainty will have glyphs that are clear, while areas with high uncertainty will have glyphs that are more unclear. This technique involves the use of predefined glyphs of two clarity levels and is unable to display a variable degree of uncertainty.</p><p>The procedural approach is a good way of generating textures or geometric models. It is a cost-effective alternative to complicated physical formulas. It allows any of the physical properties to be present and makes the result as accurate as the author wants. Ebert et al. explains in depth with practical examples how to develop and use procedural techniques in computer graphics <ref type="bibr" target="#b1">[2]</ref>.</p><p>Procedural techniques are used in data visualization to certain extent. Rheingans presents a method of procedurally applying opacity texture to solid objects, in order to get better visibility <ref type="bibr" target="#b6">[7]</ref>. This way details are easier to see even in complicated structures. This becomes especially useful when multiple transparent surfaces are used.</p><p>Ebert et al. and Shaw et al. developed a tool called Stereoscopic Field Analyzer (SFA) which uses procedurally generated glyphs to visualize multidimensional data <ref type="bibr" target="#b3">[4,</ref><ref type="bibr" target="#b7">8,</ref><ref type="bibr" target="#b2">3]</ref>. The procedurally generated glyphs can show up to thirteen dimensions, where the shape of the glyph can represent any one of them. The user of SFA is able to easily detect changes in the data based on these glyphs, but it does not present uncertainty information to the user.</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head n="3">Approach</head><p>Our goal was to visualize data with uncertainty but with minimal conceal of the data. In order to achieve that, we used procedurally generated annotations. These annotation can represent spatial information such as longitude and latitude or something more abstract. The main cause for using annotations is that they are already present in the visualization and the unwanted distraction from data that they produce is minimal. By procedurally generating the annotations, these annotation can inherit the quality contribution so the viewer is able to focus on the data, but use the annotations for information about uncertainty.</p><p>The idea of generating annotations procedurally comes from the idea of procedural texturing. Procedural texturing is usually implemented by evaluating some function at each point in space. The function then returns some visual parameter of the point, which, together with other visual parameters, combines into a final image. The same technique can be used to generate annotation lines. At each point, the function is evaluated, resulting in the intensity of the annotation at the point.</p><p>The pseudo-code for a two dimensional grid-like structure would look like this:</p><formula xml:id="formula_0">for ( all points in X direction ) for ( all points in Y direction ) image[x, y] = procedural_grid (x, y)</formula><p>Where the function procedural grid (x, y) would look like this:</p><formula xml:id="formula_1">procedural_grid (x, y) d = spacing between two grid lines if ( x mod d == 0 or y mod d == 0 ) return 1 else return 0</formula><p>The algorithms were implemented for two dimensional data. Two dimensional data is easy to understand and presents a clear example of the concepts. Nothing about this algorithms is particular to two dimensional visualization, so it is fairly simple to extend this method to higher dimensional data.</p><p>Given an algorithm that procedurally generates annotations of any kind, it is relatively simple to augment it to include the encoding of uncertainty information. If the annotation is slightly distorted where uncertainty is high and perfect where uncertainty is low, then the data will be preserved while uncertainty information is shown.</p><p>Uncertainty usually comes in a variety of ranges. In order for the visualization to show results in as much detail as possible, the uncertainty information should first be normalized to values between zero and one. This assumes that zero means minimum uncertainty and one means maximum uncertainty.</p><p>The blending of data and annotation is an important aspect of visualization. Since blending can add additional distortion, it has to be taken into consideration. Our implementation uses the HSV representation for colors. Saturation gives us a tool for simply adding an arbitrary amount of white color. The (1 − annotation intensity) was mapped to saturation, which made areas around annotation lines less and less saturated in color and therefore more white. Where annotation intensity was one, the pixel becomes white.</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head n="4">Techniques</head><p>There are several ways of distorting annotation lines procedurally. The simplest way is to just apply certainty to the intensity. However this would emphasize areas with high certainty and would change the focus of the viewer. The problem is that areas of high uncertainty will lose the energy present at the section of the line. To solve this, we have to change some other properties of the annotation.</p><p>Ideally, a distortion technique will have the following properties:</p><p>1. Procedurally generated -can be evaluated at any point of the image independently from other points.</p><p>2. Perceptually normalized -same amount of energy present at every place.</p><p>3. Inherently meaningful -have some intuitive way of presenting the uncertainty The visualization should have the uncertainty present, but it should be weighted and perceptually normalized so that it does not emphasize certain areas. The annotation should therefore conserve perception of the data. In order for the annotation to entirely conserve perception, some form of normalization of uncertainty has to be used. The goal is to have the appearance of the same amount of energy to be present at every section of the annotation. The function used to draw an annotation line under the cross-section describes some area. The height of the area is portrayed as an intensity. In order for the same amount of energy to be present in every section, the area should be same with all representations. This can be achieved by applying the equation <ref type="formula">2</ref>.</p><formula xml:id="formula_2">Kintensity = p −p f (x, uncertainty)<label>(1)</label></formula><p>intensity normalized = Kintensity Kintensitymax <ref type="bibr" target="#b1">(2)</ref> Terms that are used in equations (1) and (2) are explained in this table: p, −p the area of the normalization x current position at the cross-section of the line uncertainty current value of uncertainty Kintensity the intensity factor Kintensity max the maximal intensity factor intensity normalized the normalized intensity</p><p>The data set used in all example images is a 288 by 180 grid of total ozone measurements made by the Nimbus-7 satellite on September 16, 1979. The sensors collecting this data are subject to common data drop-outs, generally of modest size. On this particular day, a subsystem failure resulted in a particularly large region of missing data. In regions with missing values, we have calculated a distanceweighted estimate of probable value, as well as a measure of uncertainty based on the distance to valid data samples and number of such samples considered. The specific methods of interpolation and certainty calculation are not discussed, since we are using this data set for illustration purposes, rather than to draw scientific conclusions. The useful characteristics of this data set are the wide range of certainty values and the range of sizes of uncertain regions.   </p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head n="4.1">Intensity width variation</head><p>The simplest possible technique is to map certainty to brightness and adjust the width to conserve perceptibility. This deformation of the annotation gives areas of high certainty narrow lines, while giving areas of high uncertainty wider annotation lines. Another aspect is that areas of high certainty have brighter lines than areas of high uncertainty.</p><p>In order for this implementation to obey the four properties, there must be a relationship between width and intensity. The cross-section of the line can be seen as a rectangle with width and height. Height in this case represents intensity. <ref type="figure" target="#fig_3">Figure 3</ref> shows an example of two rectangles. Rectangle (a) has higher certainty and is therefore more narrow. It has also higher intensity (height) than (b). (b) on the other hand has higher uncertainty and is therefore wider. The energy of the line at that location is given by the area of the rectangle.</p><p>In order for the appearance of the same amount of energy to be present in all sections of the line, we have to establish a fixed ratio between intensity and width. The function f (x) in equation (1) can be described as a straightforward function for the area of rectangle which is described in equation <ref type="bibr" target="#b2">(3)</ref>. We evaluate the term a0 (minimum area) at minimum uncertainty. At this point the rectangle will be the highest and its width will be the smallest. We should add to the width some small ∆ which will prevent the area from being zero. </p><formula xml:id="formula_3">Kintensity = widthmax • uncertainty + width0<label>(4)</label></formula><p>Equation <ref type="formula">3</ref>shows f (x) for the Width variation technique. Since the rectangle has a simple formula for the area, we use it for calculating the ratio of intensity and width. The width of the rectangle is proportional to uncertainty as in equation <ref type="bibr" target="#b3">(4)</ref>. The intensity (the height of a rectangle in <ref type="figure" target="#fig_3">figure 3</ref>) is therefore inversely proportional to width. This is also shown in <ref type="figure" target="#fig_4">figure 4</ref>. <ref type="figure" target="#fig_4">Figure 4</ref> shows the intensity width variation technique. There are two big areas of uncertainty and the annotation on those areas is much wider but also lighter than in the areas with low uncertainty. In the closeup image in figure 8, those differences are even more obvious. The viewer can observe data without distraction of annotation lines, and he has the uncertainty information.</p><p>The implementation of this method is as simple as the logic behind it. It is relatively fast and it produces quite good results. This method is good for data where the changes between areas of different uncertainty are gradual because the difference is shown in linear fashion. However, the more dynamic the uncertainty is, the more aliasing artifacts are produced. This is a result of the fact that the geometry used for drawing the annotation line is rectangular. The rapid change in uncertainty results in a rapid change from one size of rectangle to another and we can see the edges of one rectangle. Example of this is in the closeup figure 8 in the third horizontal line, where the width changes rapidly.</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head n="4.2">Exponential sharpness</head><p>A similar idea produces annotation lines which are smother and dimmer in areas of high uncertainty and sharper in the areas of high certainty. The idea of smooth transitions leads to the use of some trigonometric function. The cross-section of the annotation now looks like a wave. Since the areas of lower certainty should appear dimmer, the maximum height of the wave has to be different at different uncertainty values.</p><p>In order to achieve the effect of sharpness at high certainty, we raise the trigonometric function to some power greater than one. Since high sharpness means high certainty, the power is just the certainty multiplied by some constant, which then represents the maximum power. The cross-section of the annotation line can be best seen in figure 5, where f (x) has high uncertainty and g(x) has low uncertainty. One function that produces this kind of result is the function <ref type="bibr" target="#b4">(5)</ref>.</p><formula xml:id="formula_4">f (x) = ((cos(x * π) + 1)/2) v −p ≤ x ≤ p 0 otherwise<label>(5)</label></formula><p>For the effect of the energy being conserved, we have preserved the area under the cosine function. This area can be obtained by integration of the cosine function <ref type="bibr" target="#b5">(6)</ref>. Since this integration is difficult to solve analytically, the recursive function (7) can be used. This function solves the integral for any positive whole value v.</p><formula xml:id="formula_5">area = p −p ((cos(x * π) + 1)/2) v<label>(6)</label></formula><formula xml:id="formula_6">area(v) = 1 v ≤ 0 (2•v)−1 2•v • area(v − 1) v &gt; 0<label>(7)</label></formula><p>The value of v is 1 − uncertainty multiplied by the maximum power and rounded to the nearest integer value. Then we use Kintensity max as area(vmax) and at each pixel we calculate intensity as showed in equation <ref type="bibr" target="#b1">(2)</ref>.</p><p>This method of generating annotation lines results in dim annotation lines with soft edges where uncertainty is high. Conversely places with low uncertainty will have sharp, bright lines. As a result of this, the annotation lines generated with this method are also automatically anti-aliased.</p><p>The evaluation of equation <ref type="formula" target="#formula_6">7</ref>however takes linear time with respect to the maximum power at each pixel, which makes the method slow. One optimization technique to prevent that is to create an array of all possible values of area(v) in the range from 1 to the maximum v. If we do that in a preprocessing step, we can access solutions from the array in constant time.</p><p>Another problem of the Exponential sharpness technique is that equation <ref type="formula" target="#formula_6">7</ref>is relatively easy to solve for whole values of v, while for fractions some kind of interpolation has to be used. This interpolation can add some artifacts because the function is not linear but exponential. <ref type="figure" target="#fig_6">Figures 6 and 9</ref> demonstrate the Exponential sharpness technique. Both areas of uncertainty are fairly easy to spot </p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head n="4.3">Noise</head><p>When we think of uncertainty, fuzziness and noisiness are terms that come to mind. Intuitively areas of greater uncertainty should be more fuzzy, and areas with high certainty should be more ordered. The idea is to have noise at high uncertainty and order in areas of low uncertainty.</p><p>In order to achieve that, noise and turbulence can be used as a generator of distortion for the annotation line. Noise has the useful property of being a repeatable pseudo-random function which is not periodic, without regular patterns etc. By using noise, we can be sure that the result will always be the same, but the distribution of points will still look random. At each pixel we use equation <ref type="bibr" target="#b7">(8)</ref> to determine the amount of deformation.</p><formula xml:id="formula_7">distortion = uncertainty • noise(x, y)<label>(8)</label></formula><p>We then check if the point should be there or not and draw it. The pseudo code for determining whether or not to draw point looks like this: An advantage to this approach is that by using noise we do not need to explicitly normalize the intensity of annotation lines. Where uncertainty is low, the points generated by this method will gather around the center of the annotation line and form an almost perfect line. Points grouped together look brighter than scattered points. Therefore, in the areas where uncertainty is high, the points will be spread and appear less visible.</p><p>A disadvantage of using noise for deformation is that when uncertainty is noisy, the result will be unpredictable. The problem is that with noisy uncertainty, inside the noise draw(x, y) function, two noise functions will compete. Therefore this method is good for data with smoothly varying associated uncertainty. <ref type="figure" target="#fig_8">Figures 7 and 10</ref> show how the noise method preserves visibility of data. In the areas of high uncertainty on the right side of figure 7, the annotation line is considerably distorted, but the viewer is still able to determine the position of the annotation line. On the closeup image in figure 10 the gradual transition from zero uncertainty to relatively high uncertainty can bee seen.</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head n="4.4">Amplitude Modulated Distortion</head><p>Instead of deforming the width and intensity of the line or using noise, we could also use patterns that would represent different values of uncertainty. We can imagine the annotation line a waving string. The areas with high uncertainty, the waving is high and in the areas of low uncertainty, the string is almost still.</p><p>In order to achieve that effect we represent the annotation line as a sine wave. We want to preserve the property that areas with low uncertainty are less distorted than areas with high uncertainty. Where uncertainty is low, therefore, the amplitude is low and the line is almost straight. On the other hand in the areas with high uncertainty the amplitude of waves is high. To achieve that, we use this pseudo-code:</p><p>evaluate_sine(x,y) i = 0 d = distance between two grid lines e = width of the annotation line for( all possible sine functions f(x,y,uncertainty), that could intersect point) if( |f(x,y,uncertainty) -x| &lt; e or |f(x,y,uncertainty) -y| &lt; e) i = MAX( i, get_intensity(x,y) ) return i</p><p>In order to preserve the appearance of the same amount of energy being present at annotation lines at all points, we use length of the annotation line as a norm. If the uncertainty is low, the line is straight and the line length is small. Consequently, where the uncertainty is high, the line is wavy and therefore longer.</p><formula xml:id="formula_8">Kintensity = 1/ 2π 0 1 + (a • cos(x)) 2 dx<label>(9)</label></formula><p>Equation <ref type="formula" target="#formula_8">9</ref>shows how we calculate the length of the line given the amplitude a. The problem with the equation <ref type="bibr" target="#b8">(9)</ref> is that it is difficult to solve this integral, so a table of solutions was used. The inverse of this length is then used as a coefficient in equation <ref type="formula">2</ref>, where the term Kintensitymax is the inverse of the length with amplitude a = 0. Therefore, the function get intensity(x, y) has to take into account this normalization.</p><p>This method is good for data with small changes, since it is sensitive to small changes. Additionally, it is easy for the decision-maker to spot areas of low uncertainty, because the annotation lines there will be significantly different than in areas of higher uncertainty.</p><p>The major problem of this technique is that it is computationally expensive. In order to evaluate one pixel of the annotation line, we have to evaluate values of all sine functions that this pixel is in the range of. This makes the amplitude modulated distortion the slowest method tried. Another problem occurs when the uncertainty changes rapidly. In those areas the annotation line will lose continuity.</p><p>Depending on the amplitude, the viewer can easily determine where areas of high uncertainty are, which can be seen in <ref type="figure" target="#fig_12">figure 11</ref>. The big area of uncertainty on the right is easy to spot and even the small areas in the center are fairly obvious. On the closeup figure 12 the areas with high uncertainty are dimmer and have higher amplitude and also even small changes are fairly obvious to spot.</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head n="5">Additional Applications</head><p>Some visualization techniques use glyphs for displaying properties of data. Glyphs can show several data values at the same time and are especially effective when data is not regularly spread over the space. For example, GIS information about population can be shown with glyphs, so that different population attributes define different shape properties.</p><p>Like line-based annotations, glyphs can be generated using a procedural approach. The concepts described in section 3 can be also applied to glyphs. The glyphs can be modified to be procedurally distorted on the basis of uncertainty. As a result, the glyphs can show the same amount of information, with an additional feature to show uncertainty information.</p><p>In the case of GIS information about population, the size of the glyph can represent the amount of population in the region, while the clarity or the sharpness of the glyph can represent the uncertainty.</p><p>The procedural generation function will now have to take into account the shape of glyphs and the amount of uncertainty. In our implementation, we used the data as a determinant to shape and color, while uncertainty controlled how much noise to add. The function looks like this:</p><formula xml:id="formula_9">procedural_glyph(x,y)</formula><p>if( point (x,y) on a glyph with added distortion ) return data; else return 0;</p><p>In order for this method of generating distorted glyphs to work properly, the glyphs have to be normalized with respect to amount of energy carried by the glyph at the same data value. In the case of noise, this is done automatically for the same reason as in method described in subsection 4.3. For other distortion techniques, normalization can be done in a manner similar to that done for annotation lines.</p><p>The shape of a glyph should not change enough to make the glyph unrecognizable. The <ref type="figure" target="#fig_3">figure 13</ref> shows the method applied on a glyph visualization of a subset of the previous data. The data is sampled on regular intervals and glyphs are created with the size and color of a glyph taken from the data and distortion from the uncertainty information. The glyphs with high uncertainty lose sharpness but maintain structure. This can be seen also on glyphs in the bottomright corner, where uncertainty is high and data value is low.</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head n="6">Issues</head><p>The quality of a visualization will depend strongly on its annotation quality. Some methods described here are extremely CPU intensive. Since the procedural annotations are generated on a per-pixel way, the amount of computation can be high; it all depends on the complexity of the function that generates values at each pixel. Therefore some efficiency versus annotation quality issues are inevitable. In order to make the procedural generation faster, we sacrifice details and make more assumptions.</p><p>Another quality factor is the distribution of uncertainty information. Using distortions of annotations as a vehicle to convey uncertainty represents a sampling of the the uncertainty information at the location of annotation marks. Since this sampling rate is necessarily rather low, only uncertainly information with low spatial frequencies will be adaquately sampled. If the uncertainty is fairly continuous, then the changes will be clearly seen and the procedurally generated annotation lines will be fairly continuous. Conversely, if the uncertainty is not continuous or if it contains gaps without values, then the changes on the annotation will be too rapid and will be confusing. This can also depend on the technique used. If we compare the amplitude modulation distortion technique and the Width variation technique (figures 14 and 15), we notice several differences in quality. In the bottom left corner the uncertainty changes rapidly in several places. This results in discontinuity with the amplitude modulation distortion technique ( <ref type="figure" target="#fig_0">figure 14)</ref>. On the other hand, the width variation technique stays stable. However, in the top right corner, where the uncertainty changes relatively slowly, the amplitude modulation distortion technique shows the change much more clearly. From this we can conclude that all techniques are not equally effective for all data. Where one method fails, another can be successful.</p><p>The procedural approach raises an interesting question. Where should the uncertainty value be sampled? Ideally we would want to sample at the center of the annotation mark, but this is easier said than done. In most cases, there would be influence from several grid lines at once. Therefore the distortion of annotation might create artifacts on the outer parts of annotations, where points would be under the influence of a different annotation mark. That is why in this approach the best way is to use sample at pixel that is currently evaluated.</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head n="7">Future Work</head><p>This method was implemented in a two dimensional space, but it would be easy to extend it into a three dimensional space. Some changes would have to be made in the normalization functions to take into account the fact that now the annotation line now has some volume.</p><p>The procedural generation of annotation need not be limited to grid lines. Many possible annotations and even some data display methods can be distorted with respect to uncertainty. For example, contour lines can be distorted with respect to uncertainty. By using this approach the data is preserved, since contour lines were already there. However, now the decision-maker has an opportunity to base his conclusions not solely on data but also on the uncertainty.</p><p>What about the annotation that is predefined? For example an annotation associated with data that is not procedurally generated. This can be distorted using similar techniques. When traversing through uncertainty, we traverse also through the annotation mask and in the areas of annotation we generate the distortion based on the value of uncertainty and the distance from annotation.</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head n="8">Summary and Conclusion</head><p>The majority of data that is visualized has some form of uncertainty associated with it. This information is an important part of the data and should be treated together with the data. Most current techniques for visualizing the uncertainty lack conservation of perceptibility. They accidently emphasize either areas of high uncertainty or the areas of low uncertainty.</p><p>In this paper we propose the method of encoding uncertainty information in the annotation lines of the grid which overlays the data. This way the uncertainty information is present on the visualization, but it does not distract the decision-maker. We have also presented several implemented techniques that demonstrate the method in practice.        </p></div><figure xmlns="http://www.tei-c.org/ns/1.0" xml:id="fig_0"><head>Figure 1 : 4 .</head><label>14</label><figDesc>Certainty associated with data used in example images. Bright areas are more certain than dark areas. Reasonably fast -the generation of procedural annotations should not slow down the visualization.</figDesc></figure>
<figure xmlns="http://www.tei-c.org/ns/1.0" xml:id="fig_1"><head>Figure 2 :</head><label>2</label><figDesc>Data used for demonstration of techniques.</figDesc></figure>
<figure xmlns="http://www.tei-c.org/ns/1.0" xml:id="fig_3"><head>Figure 3 :</head><label>3</label><figDesc>Cross-section of the annotation line with widthvariation technique. (a) represents the rectangle defined by equations (4) and (2) at a small value of uncertainty, while (b) represents the rectangle at a higher uncertainty</figDesc></figure>
<figure xmlns="http://www.tei-c.org/ns/1.0" xml:id="fig_4"><head>Figure 4 :</head><label>4</label><figDesc>Width variation technique. f (x) = 1 −d ≤ x ≤ d; d = width 2</figDesc></figure>
<figure xmlns="http://www.tei-c.org/ns/1.0" xml:id="fig_5"><head>Figure 5 :</head><label>5</label><figDesc>Cross-section of the annotation line with the Exponential sharpness technique. f (x) represents the function (5), while g(x) represents the same function raised to the power 10.</figDesc></figure>
<figure xmlns="http://www.tei-c.org/ns/1.0" xml:id="fig_6"><head>Figure 6 :</head><label>6</label><figDesc>Exponential sharpness technique. but are not emphasized and do not distract. The annotation lines are smooth and anti-aliased without any special antialiasing technique.</figDesc></figure>
<figure xmlns="http://www.tei-c.org/ns/1.0" xml:id="fig_7"><head></head><label></label><figDesc>noise_draw(x,y) distortion = uncertainty * noise(x,y) d = distance between two grid lines dx = x + distortion dy = y + distortion if( dx mod d == 0 or dy mod d == 0 ) return 1 else return 0</figDesc></figure>
<figure xmlns="http://www.tei-c.org/ns/1.0" xml:id="fig_8"><head>Figure 7 :</head><label>7</label><figDesc>Noise technique.</figDesc></figure>
<figure xmlns="http://www.tei-c.org/ns/1.0" xml:id="fig_9"><head>Figure 8 :</head><label>8</label><figDesc>Closeup on the Width variation technique.</figDesc></figure>
<figure xmlns="http://www.tei-c.org/ns/1.0" xml:id="fig_10"><head>Figure 9 :</head><label>9</label><figDesc>Closeup on the Exponential sharpness technique.</figDesc></figure>
<figure xmlns="http://www.tei-c.org/ns/1.0" xml:id="fig_11"><head>Figure 10 :</head><label>10</label><figDesc>Closeup on the Noise technique.</figDesc></figure>
<figure xmlns="http://www.tei-c.org/ns/1.0" xml:id="fig_12"><head>Figure 11 :</head><label>11</label><figDesc>Amplitude modulated distortion.</figDesc></figure>
<figure xmlns="http://www.tei-c.org/ns/1.0" xml:id="fig_13"><head>Figure 12 :</head><label>12</label><figDesc>Closeup on the amplitude modulated distortion.</figDesc></figure>
<figure xmlns="http://www.tei-c.org/ns/1.0" xml:id="fig_14"><head>Figure 13 :</head><label>13</label><figDesc>Distortion of glyphs based on uncertainty.</figDesc></figure>
<figure xmlns="http://www.tei-c.org/ns/1.0" xml:id="fig_15"><head>Figure 14 :</head><label>14</label><figDesc>Amplitude modulated distortion technique creates some discontinuity where data changes too rapidly.</figDesc></figure>
<figure xmlns="http://www.tei-c.org/ns/1.0" xml:id="fig_16"><head>Figure 15 :</head><label>15</label><figDesc>Width variation technique does not detect slow changes in uncertainty.</figDesc></figure>
		</body>
		<back>

			<div type="acknowledgement">
<div xmlns="http://www.tei-c.org/ns/1.0"><head n="9">Acknowledgments</head><p>The roots of this work lie in a lunch-time discussion with Ken Perlin. This work supported by a grant from NSF (CAREER #9996043).</p></div>
			</div>

			<div type="references">

				<listBibl>

<biblStruct xml:id="b0">
	<analytic>
		<title level="a" type="main">Modelling and visualizing multiple spatial uncertainties</title>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">Trevor</forename><forename type="middle">J</forename><surname>Davis</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">C</forename><forename type="middle">Peter</forename><surname>Keller</surname></persName>
		</author>
	</analytic>
	<monogr>
		<title level="j">Computers &amp; Geosciences</title>
		<imprint>
			<biblScope unit="volume">23</biblScope>
			<biblScope unit="issue">4</biblScope>
			<biblScope unit="page" from="397" to="408" />
			<date type="published" when="1997" />
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b1">
	<analytic>
		<title level="a" type="main">Texturing and Modeling a Procedural Approach</title>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">David</forename><forename type="middle">S</forename><surname>Ebert</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">F</forename><forename type="middle">Kenton</forename><surname>Musgrave</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">Darwyn</forename><surname>Peachey</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">Ken</forename><surname>Perlin</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">Steven</forename><surname>Worley</surname></persName>
		</author>
	</analytic>
	<monogr>
		<title level="j">AP Professional</title>
		<imprint>
			<date type="published" when="1994" />
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b2">
	<monogr>
		<title level="m" type="main">Procedural shape generation for multidimensional data visualization. Computers and Graphics</title>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">David</forename><forename type="middle">S</forename><surname>Ebert</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">Randall</forename><forename type="middle">M</forename><surname>Roher</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">Christopher</forename><forename type="middle">D</forename><surname>Shaw</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">Pradyut</forename><surname>Panda</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">James</forename><forename type="middle">M</forename><surname>Kukla</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">D</forename><forename type="middle">Aaron</forename><surname>Roberts</surname></persName>
		</author>
		<imprint>
			<date type="published" when="1999" />
		</imprint>
	</monogr>
	<note>extended version of VisSym &apos;99 conference paper</note>
</biblStruct>

<biblStruct xml:id="b3">
	<analytic>
		<title level="a" type="main">Two-handed interactive stereoscopic visualization</title>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">David</forename><forename type="middle">S</forename><surname>Ebert</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">Christopher</forename><forename type="middle">D</forename><surname>Shaw</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">Amen</forename><surname>Zwa</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">Cindy</forename><surname>Starr</surname></persName>
		</author>
		<idno>Oc- tober 1996. ISBN 0-89791-864-9</idno>
	</analytic>
	<monogr>
		<title level="m">IEEE Visualization &apos;96</title>
		<imprint>
			<biblScope unit="page" from="205" to="210" />
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b4">
	<monogr>
		<title level="m" type="main">Visualizing uncertain information. Cartographic Perspective</title>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">Alan</forename><forename type="middle">M</forename><surname>Maceachren</surname></persName>
		</author>
		<imprint>
			<date type="published" when="1992" />
			<biblScope unit="page" from="10" to="19" />
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b5">
	<monogr>
		<title level="m" type="main">Approaches to uncertainty visualization. The Visual Computer</title>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">Alex</forename><forename type="middle">T</forename><surname>Pang</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">Craig</forename><forename type="middle">M</forename><surname>Wittenbrink</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">Suresh</forename><forename type="middle">K</forename><surname>Lodha</surname></persName>
		</author>
		<imprint>
			<date type="published" when="1997-11" />
			<biblScope unit="page" from="370" to="390" />
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b6">
	<analytic>
		<title level="a" type="main">Opacity-modulating triangular textures for irregular surfaces</title>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">Penny</forename><surname>Rheingans</surname></persName>
		</author>
		<idno>0-89791-864-9</idno>
	</analytic>
	<monogr>
		<title level="m">IEEE Visualization &apos;96</title>
		<imprint>
			<date type="published" when="1996-10" />
			<biblScope unit="page" from="219" to="226" />
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b7">
	<analytic>
		<title level="a" type="main">Using shape to visualize multivariate data</title>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">Christopher</forename><forename type="middle">D</forename><surname>Shaw</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">David</forename><forename type="middle">S</forename><surname>Ebert</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">D</forename><forename type="middle">Aaron</forename><surname>Roberts</surname></persName>
		</author>
	</analytic>
	<monogr>
		<title level="m">CIKM&apos;99 Workshop on New Paradigms in Information Visualization and Manipulation</title>
		<imprint>
			<date type="published" when="1999-11" />
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b8">
	<analytic>
		<title level="a" type="main">Restorer: A visualization technique for handling missing data</title>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">Ray</forename><surname>Twiddy</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">John</forename><surname>Cavallo</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">Shahram</forename><forename type="middle">M</forename><surname>Shiri</surname></persName>
		</author>
		<idno>0-8186-6627-7</idno>
	</analytic>
	<monogr>
		<title level="m">IEEE Visualization &apos;94</title>
		<imprint>
			<date type="published" when="1994-10" />
			<biblScope unit="page" from="212" to="216" />
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b9">
	<analytic>
		<title level="a" type="main">IFS fractal interpolation for 2D and 3D visualization</title>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">Craig</forename><forename type="middle">M</forename><surname>Wittenbrink</surname></persName>
		</author>
	</analytic>
	<monogr>
		<title level="m">IEEE Visualization &apos;95</title>
		<imprint>
			<date type="published" when="1995-11" />
			<biblScope unit="page" from="77" to="84" />
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b10">
	<monogr>
		<title level="m" type="main">Verity visualization: Visual mappings</title>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">Craig</forename><forename type="middle">M</forename><surname>Wittenbrink</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">Alex</forename><forename type="middle">T</forename><surname>Pang</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">Suresh</forename><forename type="middle">K</forename><surname>Lodha</surname></persName>
		</author>
		<imprint>
			<date type="published" when="1995" />
			<pubPlace>Santa Cruz</pubPlace>
		</imprint>
		<respStmt>
			<orgName>Univ. of Cal</orgName>
		</respStmt>
	</monogr>
	<note type="report_type">Technical report</note>
</biblStruct>

<biblStruct xml:id="b11">
	<analytic>
		<title level="a" type="main">Glyphs for visualizing uncertainty in enviromental vector fields</title>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">Craig</forename><forename type="middle">M</forename><surname>Wittenbrink</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">Elijah</forename><surname>Saxon</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">Jeff</forename><forename type="middle">J</forename><surname>Furman</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">Alex</forename><forename type="middle">T</forename><surname>Pang</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">Suresh</forename><forename type="middle">K</forename><surname>Lodha</surname></persName>
		</author>
	</analytic>
	<monogr>
		<title level="j">IEEE Transactions on Visualization and Computer Graphics</title>
		<imprint>
			<biblScope unit="page" from="266" to="279" />
			<date type="published" when="1996" />
		</imprint>
	</monogr>
</biblStruct>

				</listBibl>
			</div>
		</back>
	</text>
</TEI>
