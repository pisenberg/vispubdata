<?xml version="1.0" encoding="UTF-8"?>
<TEI xml:space="preserve" xmlns="http://www.tei-c.org/ns/1.0" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
xsi:schemaLocation="http://www.tei-c.org/ns/1.0 /home/pisenberg/grobid/grobid-0.6.1/grobid-home/schemas/xsd/Grobid.xsd"
 xmlns:xlink="http://www.w3.org/1999/xlink">
	<teiHeader xml:lang="en">
		<fileDesc>
			<titleStmt>
				<title level="a" type="main">Fanal: a Relational Analysis and Visualization Package for High Energy Physics</title>
			</titleStmt>
			<publicationStmt>
				<publisher/>
				<availability status="unknown"><licence/></availability>
			</publicationStmt>
			<sourceDesc>
				<biblStruct>
					<analytic>
						<author>
							<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">Henri</forename><surname>Videau</surname></persName>
						</author>
						<author>
							<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">Paulo</forename><surname>Mora De Freitas</surname></persName>
						</author>
						<title level="a" type="main">Fanal: a Relational Analysis and Visualization Package for High Energy Physics</title>
					</analytic>
					<monogr>
						<imprint>
							<date/>
						</imprint>
					</monogr>
				</biblStruct>
			</sourceDesc>
		</fileDesc>
		<encodingDesc>
			<appInfo>
				<application version="0.6.1" ident="GROBID" when="2021-02-19T20:30+0000">
					<desc>GROBID - A machine learning software for extracting information from scholarly documents</desc>
					<ref target="https://github.com/kermitt2/grobid"/>
				</application>
			</appInfo>
		</encodingDesc>
		<profileDesc>
			<abstract>
				<p>The package described in this paper has been designed for analysing the data collected in the LEP experiment ALEPH. Its main graphical feature is a deep interplay between the description of the objects manipulated and their relationships, and their graphical representation. The easy access to information through navigation between objects and its display makespossible a thorough study of the events produced by the detectol: This hasproved to be verypowerful in numerous occasions for analysing data and testing programs. The package provides as well statistical analysis toolsandagraphic editol: Itisbasedonthe PHlGSgraphics standard. It will develop towards a more elaborate usage of the data structure in particular in the geometrical representations and towards object oriented languages to overcome some heaviness linked to the use of Fortran.</p>
			</abstract>
		</profileDesc>
	</teiHeader>
	<text xml:lang="en">
		<body>
<div xmlns="http://www.tei-c.org/ns/1.0"><head n="1.">Overview of domain.</head><p>We are working in a high energy physics experiment, ALEPH, at the electron-positron collider LEP at CERN. In such experiments tiny bunches of electrons and positrons collide at the center of the detectors and tens of particles flee outwards through track detectors, which record the trajectories of the charged particles, to calorimeters where most of them degrade in showers of particles which energy is measured. The information is collected, stored and analysed statistically.</p><p>The role of visualization is twofold, one is to represent the detector with its response to a collision, the second to visualize the statistical distributions. In the first case, the reason for visualizing is, aside aesthetics and publicity, understanding the behaviour of the detector, the behaviour of the algorithms applied to the data, the physics. In the second there is no natural three-dimensional space but visualization can bring a lot in understanding the distributions in parameter space.</p><p>periment, its specificity is to encompass not only the detector visualization but as well the statistical analysis in the frame of a data model. It can be used also for purposes like geometrical drawing due to its geometrical objects description.</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head>2.</head><p>Results.</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head n="2.1">Introduction</head><p>The Fanal package is not strictly a visualization program but a tool for analysis using graphical representations of geometrical objects and statistical information, with special adaptation to Aleph. It uses a systematic description of the data in terms of an entity-relationship model and provides means to explore the data and to act on them through commands. These commands constitute a language which can operate interactively, semi interactively by getting commands from a file called macro or non interactively by executing commands from a program routine. The commands are processed through arecursive interpreter. To make easier the use of the language alexicon may redefine the names and qualifiers of commands and objects.</p><p>From the point of view of standard data manipulation, it offers possibilities of creating object sets and objects, selecting object sets and objects in a set, getting information about objects and their relationships, calculating expressions made out of their attributes, displaying their properties in a natural and powerful way. It provides as well actions specific to some types of objects.</p><p>From the point of view of graphics it provides standard geometrical representations of objects and specific ones when needed, standard viewing actions which can be related to the objects, and standard means of defining aspect of the objects.</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head n="2.2">Object-type description structure</head><p>We have developed a package for analysis using graphics called Fanal. It is one of the visualization program in the ex-</p><p>The most specific feature of this package is that the emphasis is put on the modelling of the data as objects withrela-tionships between them and associated graphical (geometrical) representations. The description of the objects comes from an Object Description File (ODF) written in an Object Description Language which is largely a transcription of the Aleph Data Description Language (DDL) [l] and is very close to the DDL used in the xperiment HI <ref type="bibr" target="#b2">[2]</ref>. The actions on objects are described in the Command Language.</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head>2hart of some objects and relationships linkec to the Aleph electromagnetic calorimeter.</head><p>The underlying model describes objects put together in object sets sharing the same types of attributes and the same types of relationships. The object set is then defined by the set of attribute types shared by its members and the other object sets to which it is related. Some attributes are common to all the objects of the set and called global; it is the case of most of the graphics attributes. An object set can be seen as a set of global attributes and a table; one object is a line of the table, an attribute or a direct relationship a column.</p><p>An attribute is described by its name, its type (three only for the time being: integer, real or character), its position of the column in the object set table, its gender (static or functional) and its domain. A static attribute corresponds to an entry in the table and will be found at its position. A functional attribute is an attribute which can be automatically calculated from the others knowing their names, for example polar coordinates from Cartesian ones. It is possible as well to treat as an attribute of an object any attribute of a related object, we call it an indirect attribute.</p><p>A relationship is described by the name of the related object, its position in the object set table, its direction (direct, reciprocal, parallel) and the name of the relationship (needed in case of more than one between two sets).</p><p>The global attributes contain in particular the global aspect attributes of the object set, when it is not defined by a standard attribute: colour, last colour used, colour of the border, marker type, marker size, line style, line width, hidden line style, area style, hatch style, representation. These attributes are set in the ODF but can be modified by commands. The aspect can be inherited from related objects by setting itsvaluetothenameoftherelatedobject, andthat can be chained.</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head n="2.3">Navigation</head><p>The commands of Fanal operate on the selected objets in a set, so the basic technique of navigation is to select into a set of objects a subset to work upon.</p><p>In order to perform selections on object sets three boolean selectors are associated to each object set : one contains the current status, the second the previous, the third contains the status of a saved selection which can be restored later.</p><p>The technique of navigation is to build in the object set the image by a relationship of a subset in the related object set. In the case of an attribute we define a subset in the attribute value set by a range and transport it in the object set. The selection is made by composing in an inverse polish syntax a list of selection commands. The composition of the current selection with the preceding one is done according to selection rules via boolean operations between selections represented by boolean selectors.</p><p>Selection canbe done by multiple steps from object to object by defining a path between two objects. Order structures can be transported the same way. The indirect attributes use implicitly the navigation</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head n="2.4">Visualization</head><p>The Fanal graphics is based on PHIGS. It uses one type of frame inside a PHIGS window: Fanal windows ( essentially 3D view ports ). The size of a window in world coordinates isby default the size of Aleph : a cube of 12x12~12 m3 centered on the origin of the coordinates. It is automatically redefined for histograms and can be modified by command.</p><p>The aspect attributes of objects can be defined directly by their value for each object, most often they are common to the set or derived from the value of attributes, for example the colour comes from the energy deposited in a cell via a general convention. They can as well come from related objects, for example on the display of the B, event the colour of the points associated to a track comes from the colour of the track which may be defined by the particle identification, blue for kaons, red for muons and orange for KO.</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head>Decay of a B, in y't$ with a b.</head><p>See the colour picture.</p><p>The three-dimensional geometrical description of the objects has been done in a systematic way such that it is possible to use standard and implicit representations of objects, like points, segments, convex volumes, etc. <ref type="figure">ingaviewasapairofcoordinateslikex,y,z,r,d, t,</ref> The package provides 3D projections, parallel or conical, the direction, the vertical and the point of view can be given by objects, for example the direction of sight can be defined by an axis, by giving the components of a vector but as well by a vector associated to a selected object like px, py, pz of a track or x, y, z or 8 and t$, or by the normal to the plane defined by vectors associated to two objects.</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head>It is possible to use 2D projections of objects by specify-</head><p>It offers also viewing transformations like rotation, scaling, translation, zoom, etc. These can be defined by numbers, graphically but also by objects. If a point is associated to an object, it can become the centre of the picture. The possibilities of continuous transformations have not been developed very far, not being very useful in the analysis, if not for publicity. To help embellish plots and event displays or to have the possibility to draw diagrams in a convenient way. Fanal embeds a graphics editor which power comes from the fact that it enables at the same time interactive drawing and drawing of objects from sets (boxes, circles, arrows, etc.). The interactive mode defines objects of standard types which aspect definition are used.</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head n="2.5">Fanal's results</head><p>In the field of high energy Fanal has been used for three main purposes, the designing and testing of tools, the careful observation of specific events, the statistical annalysis.</p><p>In the first domain wecan mention thereconstruction and identification of photons in the calorimeter, the identification of electrons and muons. Powerful packages on these purposes have been developed on ideas coming from looking at these visualizations, checked on these visualizations and improved. What was brought up by the tool was the possibility to run interactively the packages, to observe the objects in any adequate direction with the adequate scaling, representation and coloring, to get in a handy way the information on the observed objects or on any related ones.</p><p>This has helped to produce excellent results on subjects like observation of the polarisation of the tau leptons in Z decays.</p><p>Another important use was in the study of particular collisions which looked like possible new physics or detector artefacts. There also the easy visual access to a lot of correlated information was of prime importance to understand the events and in some cases reject them.</p><p>At the same time its possibilities in statistical analysis have been used for standard physics analysis and studies of detector calibrations.</p><p>The fact that this package is based on an object description and standard geometrical representations of objects makes it quite independent of the experiment it was designed for and useful for purposes unrelated to its original goal. By defining new sets of objects it has been possible to draw houses for example.</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head n="3.">Future.</head><p>First we can draw a conclusion on large discussions we had at the beginning of the project, yes colour is necessary for high energy physics visualization, yes the possibility to choose the right point of view instead of having standard projections is a must; on the other side the possibility to move objects continuously is of marginal interest.</p><p>The problems we are faced with now are the following :</p><p>The normal culture of the people working in the experiment is not datamodelling and object structuring. Therefore the data we get are often poorly structured and the notion of relationship often hidden, in particular no real care is taken to handle the detectors geometry in a proper way with geometric entities and the package has to redefine it.</p><p>The graphics package we use is PHIGS, it has its own structure and the mapping of our own model on PHIGS may be awkward. In fact, except for performance reasons, it could be better to have an unstructured graphics package, all the structure coming from the application.</p><p>The main development in graphics is a better understanding of the objects geometrical and graphical representations in such a way as to obtain a completely implicit, generic visualization. A particular subject is the representations in variables like 8 and 4) or parameters which are not directly related to our normal 3d view.</p><p>Another question is the use of object oriented technology. Even though Fanal has a strong object oriented flavour, representations can be seen as graphical methods, all the package, the core in charge of the object manipulation itself, is in Fortran for environmental reasons. We are evaluating the gains in using an object oriented language and the underlying problems like Aleph's data structure interface (BOS banks), actual Fortran code linking, etc.We are also evaluating if these languages are well suited to handle not individual objects but rather selected subsets of objects of given types.</p><p>We are developing new features like new data types of higher levels (point, point-vector, etc.) and their intrinsic graphical representations, integration of methods code into DDL, etc.</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head n="4.">References.</head></div><figure xmlns="http://www.tei-c.org/ns/1.0" xml:id="fig_0"><head></head><label></label><figDesc>f,c.Herer is the radius, d is the distance to the z axis, tis for 8, f is for 0, c is for cos8, More exotic variables like position in the calorimeter cells of Aleph are as well permitted.</figDesc></figure>
<figure xmlns="http://www.tei-c.org/ns/1.0" xml:id="fig_1"><head>Ian. 1 . Run 11496 event 472 ,</head><label>1472</label><figDesc>Fanal provides, aside the event display, quite standard possibilities of histogramming and displaying scatter plots of variables with tools for statistical analysis, fits, etc ... The originality may be to have it in the same frame as the event Ian.1. Run I1406 even 472 Decay of a z in p v seen in the plane of the track and the most energetic photon.display and to do this by addressing objects and their properties.Transparent multiwindowing.</figDesc></figure>
<figure xmlns="http://www.tei-c.org/ns/1.0" xml:id="fig_2"><head>(</head><label></label><figDesc>See color plates, p. </figDesc></figure>
			<note xmlns="http://www.tei-c.org/ns/1.0" place="foot" n="1070">-2385/93 $3.00 Q 1993 IEEE</note>
		</body>
		<back>
			<div type="annex">
<div xmlns="http://www.tei-c.org/ns/1.0"><p>Decay of a ' I in p v seen in the plane of the track and the most energetic photon.</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head>Fanal. Run 11485 event 472</head></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head>CP-40</head><p>Transparent multiwindowing.</p></div>			</div>
			<div type="references">

				<listBibl>

<biblStruct xml:id="b0">
	<monogr>
		<title level="m" type="main">The ADAMO Data System Programmers Manual</title>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">S</forename><forename type="middle">M</forename><surname>Fisher</surname></persName>
		</author>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">P</forename><surname>Palazzi</surname></persName>
		</author>
		<imprint>
			<date type="published" when="1992-06" />
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b1">
	<monogr>
		<title level="m" type="main">The ADAMO Data System, An Introduction for Particle Physicists, RHBNC 89-01</title>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">M</forename><forename type="middle">C</forename><surname>Green</surname></persName>
		</author>
		<imprint>
			<date type="published" when="1992-01" />
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b2">
	<monogr>
		<title level="m" type="main">A data management tool package for H1 reconstruction and analysis</title>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">U</forename><surname>Berthon</surname></persName>
		</author>
		<idno>H1-6/90-140</idno>
		<imprint>
			<date type="published" when="1990" />
		</imprint>
	</monogr>
	<note type="report_type">H1 Note</note>
</biblStruct>

<biblStruct xml:id="b3">
	<monogr>
		<title level="m" type="main">Fanal, an interactive tool for Aleph analysis. Proceedings of the 14th Workshop of the INFN Eloisatron Project</title>
		<author>
			<persName xmlns="http://www.tei-c.org/ns/1.0"><forename type="first">H</forename><surname>Videau</surname></persName>
		</author>
		<editor>R. Brun, P. Kunz, P. Palazzi</editor>
		<imprint>
			<date type="published" when="1990-11" />
		</imprint>
	</monogr>
</biblStruct>

				</listBibl>
			</div>
		</back>
	</text>
</TEI>
